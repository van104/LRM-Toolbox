import type { TowerConfig, LevelConfig } from './types';

export const TILE_SIZE = 40;
export const COLS = 16;
export const ROWS = 12;
export const WIDTH = COLS * TILE_SIZE;
export const HEIGHT = ROWS * TILE_SIZE;

export const TOWER_TYPES: Record<string, TowerConfig> = {
  basic: {
    name: 'åŸºç¡€å¡”',
    cost: 100,
    range: 120,
    baseDamage: 15,
    baseRate: 35,
    color: '#409eff',
    projectileSpeed: 8,
    emoji: 'ğŸ¯',
    desc: 'å°„ç¨‹å‡è¡¡ï¼Œé€‚åˆå‰æœŸè¿‡æ¸¡ã€‚'
  },
  rapid: {
    name: 'é€Ÿå°„å¡”',
    cost: 250,
    range: 100,
    baseDamage: 6,
    baseRate: 10,
    color: '#e6a23c',
    projectileSpeed: 12,
    emoji: 'âš¡',
    desc: 'æé«˜æ”»é€Ÿï¼Œå¯¹ä»˜æˆç¾¤å¼±å°æ•Œäººã€‚'
  },
  sniper: {
    name: 'ç‹™å‡»å¡”',
    cost: 400,
    range: 280,
    baseDamage: 60,
    baseRate: 70,
    color: '#f56c6c',
    projectileSpeed: 18,
    emoji: 'ğŸ¯',
    desc: 'è¶…è¿œå°„ç¨‹ï¼Œé«˜é¢å•ä½“ä¼¤å®³ã€‚'
  },
  slow: {
    name: 'å†°éœœå¡”',
    cost: 200,
    range: 130,
    baseDamage: 5,
    baseRate: 40,
    color: '#00ffff',
    projectileSpeed: 10,
    emoji: 'â„ï¸',
    effect: 'slow',
    desc: 'å‡é€Ÿæ•Œäººï¼Œäº‰å–æ›´å¤šè¾“å‡ºæ—¶é—´ã€‚'
  },
  missile: {
    name: 'å¯¼å¼¹å¡”',
    cost: 600,
    range: 200,
    baseDamage: 40,
    baseRate: 60,
    color: '#8e44ad',
    projectileSpeed: 10,
    emoji: 'ğŸš€',
    effect: 'aoe',
    desc: 'èŒƒå›´çˆ†ç‚¸ä¼¤å®³ï¼Œé˜²å¾¡æ ¸å¿ƒã€‚'
  },
  mine: {
    name: 'é‡‘çŸ¿',
    cost: 300,
    range: 0,
    baseDamage: 0,
    baseRate: 0,
    color: '#ffd700',
    emoji: 'ğŸ’°',
    effect: 'gold',
    desc: 'æ¯æ³¢å¼€å§‹åæ¯éš”5ç§’äº§å‡ºé‡‘å¸ï¼Œæ³¢æ¬¡ç»“æŸåœæ­¢ã€‚'
  },
  buff: {
    name: 'å¢ç›Šå¡”',
    cost: 450,
    range: 100,
    baseDamage: 0,
    baseRate: 0,
    color: '#2ecc71',
    emoji: 'ğŸ§ª',
    effect: 'buff',
    desc: 'æå‡èŒƒå›´å†…é˜²å¾¡å¡”30%ä¼¤å®³å’Œå°„ç¨‹ã€‚'
  },
  radar: {
    name: 'é›·è¾¾',
    cost: 350,
    range: 150,
    baseDamage: 0,
    baseRate: 0,
    color: '#3498db',
    emoji: 'ğŸ“¡',
    effect: 'radar',
    desc: 'æ¢æµ‹å¹¶æ­ç¤ºèŒƒå›´å†…çš„éšèº«æ•Œäººã€‚'
  }
};

export const LEVEL_MAPS: number[][][] = [
  [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [3, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0],
    [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0],
    [0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0],
    [0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0],
    [0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
  ],

  [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 3, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0],
    [0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0],
    [0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0],
    [0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 1, 0, 0],
    [0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0],
    [0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0],
    [0, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
  ],

  [
    [3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],
    [0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0],
    [0, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0],
    [0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0],
    [0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0],
    [0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0],
    [0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 2, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
  ],
  // Level 4 / Endless Map
  [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [3, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 2],
    [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0],
    [0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 1, 0, 1, 1, 1, 0],
    [0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0],
    [0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0],
    [0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 1, 0],
    [0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0],
    [0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
  ]
];

export const LEVEL_CONFIG: LevelConfig[] = [
  { waves: 5, hpScale: 1.0 },
  { waves: 10, hpScale: 1.5 },
  { waves: 15, hpScale: 2.2 },
  { waves: 20, hpScale: 3.0 }
];
